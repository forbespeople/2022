(window.webpackJsonp=window.webpackJsonp||[]).push([[0,63,66,119],{386:function(e,t,n){e.exports={zoomable:"_1bl3p",content:"ebDJa",blackout:"_2hMJg",isFloating:"Iasc8"}},397:function(e,t,n){e.exports={articleHeaderEntries:"_2ylON",entries:"_1tOVW",entry:"_3RvK6"}},441:function(e,t,n){"use strict";n.r(t);n(24),n(12),n(15),n(9),n(28),n(26),n(25);var l=n(0),r=["DOMMouseScroll","mousewheel","wheel"];function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,l=function(){};return{s:l,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,v=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){v=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(v)throw r}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var v=Object(l.c)({name:"Zoomable",setup:function(){var e=Object(l.t)(),t=Object(l.s)(),n=Object(l.o)(),c=Object(l.o)(!1),v=Object(l.n)({scale:1,x:0,y:0}),d=Object(l.a)((function(){return{transform:"translate(".concat(v.x,"px, ").concat(v.y,"px) scale(").concat(v.scale,")")}}));function f(){c.value&&(c.value=!1)}function m(){c.value&&(c.value=!1)}return Object(l.j)((function(){var e,t=o(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;window.removeEventListener(n,m)}}catch(e){t.e(e)}finally{t.f()}window.removeEventListener("touchmove",m),window.removeEventListener("resize",f)})),Object(l.l)((function(){var e,d=o(r);try{for(d.s();!(e=d.n()).done;){var h=e.value;window.addEventListener(h,m,{passive:!1})}}catch(e){d.e(e)}finally{d.f()}window.addEventListener("touchmove",m,{passive:!1}),window.addEventListener("resize",f),Object(l.x)(c,(function(e){if(t.$viewport.isLessThan("tablet")||!e)return v.scale=1,v.x=0,void(v.y=0);if(n.value){var l=window.innerHeight-120,r=window.innerWidth-120,rect=n.value.getBoundingClientRect(),o=Math.min(r/rect.width,l/rect.height);v.x=window.innerWidth/2-rect.width*o/2,v.x-=rect.left*v.scale,v.y=window.innerHeight/2-rect.height*o/2,v.y-=rect.top*v.scale,v.scale=o}}))})),{css:e,contentEl:n,currentStyles:d,isFloating:c,onClick:function(){t.$viewport.isLessThan("tablet")?c.value=!1:c.value=!c.value}}}}),d=n(444),f=n(1);var component=Object(f.a)(v,(function(){var e,t=this,n=t.$createElement,l=t._self._c||n;return l("div",{class:(e={},e[t.css.zoomable]=!0,e[t.css.isFloating]=t.isFloating,e),on:{click:t.onClick}},[l("div",{ref:"contentEl",class:t.css.content,style:t.currentStyles},[t._t("default",null,null,{isFloating:t.isFloating})],2),t._v(" "),l("transition",{attrs:{name:"fade"}},[l("div",{directives:[{name:"show",rawName:"v-show",value:t.isFloating,expression:"isFloating"}],class:t.css.blackout})])],1)}),[],!1,(function(e){this.$style=d.default.locals||d.default}),null,null);t.default=component.exports},444:function(e,t,n){"use strict";var l=n(386),r=n.n(l);n.d(t,"default",(function(){return r.a}))},464:function(e,t,n){"use strict";var l=n(397),r=n.n(l);n.d(t,"default",(function(){return r.a}))},489:function(e,t,n){e.exports={gallery:"_1SP3v",thumbs:"_2QYF7",thumbsInner:"_1kOfS",isInset:"_2zweP",thumb:"_3c_3Q",isActive:"_3nbzX",thumbImage:"_2MMHT",main:"_3XDsa",heading:"kRPAb",entries:"H1LL8",headingTitle:"_3QY_7",headingSubtitle:"UU1_a",figure:"_2qFtA",withCaption:"fiR18",image:"_1YzGL",isVertical:"_1JGZT",caption:"_3kFH3",copyright:"_1ZAhy",title:"_2gzFa",description:"_3ecQr",boxes:"_2Cwhh"}},555:function(e,t,n){"use strict";n.r(t);var l=n(0),r=n(14),o=Object(l.c)({name:"ArticleHeaderEntries",props:{article:{default:function(){return{}},type:Object}},setup:function(e,t){var n=t.root,o=Object(l.t)();return{articleInfo:r.f.call(n,e.article),css:o}}}),c=n(464),v=n(1);var component=Object(v.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.css.articleHeaderEntries},[n("ul",{class:e.css.entries},[n("li",{class:e.css.entry},[e._v("\n      "+e._s(e.articleInfo.publishedAt)+"\n    ")]),e._v(" "),e.articleInfo.rubrics.length?e._l(e.articleInfo.rubrics,(function(t,l){return n("li",{key:l,class:e.css.entry},[n("NLink",{attrs:{to:t.to}},[e._v("\n          "+e._s(t.title)+"\n        ")])],1)})):e._e()],2)])}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.default=component.exports},559:function(e,t,n){"use strict";n.r(t);var l=n(6),r=(n(18),n(81),n(17),n(48),n(30),n(0)),o=n(14),c=Object(r.c)({name:"Gallery",props:{gallery:{required:!0,type:Object},isInset:{type:Boolean},withCaption:{default:!1,type:Boolean}},setup:function(e,t){var n=t.refs,c=Object(r.t)(),v=Object(r.s)(),d=v.env,meta=Object(r.u)(),f=Object(r.v)(),m=Object(r.w)(),h=v.$viewport,y=v.$googleGtag,w=v.$yandexMetrika,_=Object(r.o)([]),O=Object(r.o)(0),j=Object(r.o)(""),I=Object(r.o)(""),x=Object(r.o)(""),A=Object(r.o)(),E=Object(r.o)([]),S=Object(r.o)(),k=Object(r.o)(),L=Object(r.o)(),T=Object(r.o)(0),H=Object(r.o)(0),F=Object(r.o)(!1),C=Object(r.a)((function(){var t=e.isInset?"desktopMedium":"mobileWide";return h.isGreaterThan(t)}));function M(t){for(var n="auto",l=E.value[0],r=0,i=0,o=E.value.length;i<o;i++)if(E.value[i].dataset.imageKey===t){l=E.value[i],r=i;break}if(O.value+1!==r&&O.value-1!==r||(n="smooth"),e.isInset){var c=_.value[r].top;window.scrollTo({top:c,left:0,behavior:n})}else{var v;null===(v=l)||void 0===v||v.scrollIntoView({behavior:n})}window.setTimeout((function(){O.value=r}),500)}function $(){var t,n;F.value=!1;var l="/".concat(e.gallery.url_alias),r=e.isInset?null===(t=window)||void 0===t?void 0:t.scrollY:null===(n=k.value)||void 0===n?void 0:n.scrollTop;e.isInset||B(r||0);for(var i=0,o=_.value.length;i<o;i++){var c=_.value[i],v=c.top,d=c.bottom;if(r>=v&&r<d){var f,m=E.value[i];if(!m)continue;O.value=i,j.value=(null==m||null===(f=m.dataset)||void 0===f?void 0:f.imageKey)||"",I.value="".concat(l,"?image=").concat(j.value),!e.isInset&&e.gallery.id&&(I.value="".concat(l,"?gallery=").concat(e.gallery.id,"&image=").concat(j.value));var h,y,w,A,S=null;if(S=r<H.value?E.value[i+1]:E.value[i-1],x.value=l,S)if(x.value="".concat(l,"?image=").concat(null===(h=S)||void 0===h||null===(y=h.dataset)||void 0===y?void 0:y.imageKey),!e.isInset&&e.gallery.id)x.value="".concat(l,"?gallery=").concat(e.gallery.id,"&image=").concat(null===(w=S)||void 0===w||null===(A=w.dataset)||void 0===A?void 0:A.imageKey)}}H.value=r}function B(e){if(C.value){L.value||(L.value=n.thumbsEl);var t=Object(o.h)(L.value);T.value=e<=t&&t-e||0}}function P(){F.value||window.requestAnimationFrame($),F.value=!0}function R(t){var n,l;return t.detail.startsWith("/".concat(e.gallery.url_alias))?null===(l=k.value)||void 0===l?void 0:l.addEventListener("scroll",P):null===(n=k.value)||void 0===n?void 0:n.removeEventListener("scroll",P)}function z(){window.requestAnimationFrame((function(){var t;(_.value=(E.value||[]).map((function(t){var n=e.isInset?40:0;return{bottom:Object(o.h)(t)+t.offsetHeight-n,top:Object(o.h)(t)-n}})),e.isInset)?T.value=56:B((null===(t=k.value)||void 0===t?void 0:t.scrollTop)||0)}))}return Object(r.j)((function(){var e,t;"image"in f.value.query&&delete f.value.query.image,null===(e=A.value)||void 0===e||e.disconnect(),null===(t=k.value)||void 0===t||t.removeEventListener("scroll",P),window.removeEventListener("switchArticle",R),window.removeEventListener("completePageHeaderAdfox",z)})),Object(r.l)(Object(l.a)(regeneratorRuntime.mark((function t(){var n,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S.value){t.next=2;break}return t.abrupt("return");case 2:if(k.value=e.isInset?window:Object(o.g)(S.value),k.value){t.next=5;break}return t.abrupt("return");case 5:Object(r.x)((function(){return I.value}),(function(path){y({location:d.HOST+path,path:path}),w({referer:d.HOST+x.value,url:d.HOST+path})})),null===(n=k.value)||void 0===n||n.addEventListener("scroll",P),window.addEventListener("switchArticle",R),window.addEventListener("completePageHeaderAdfox",z),A.value=new ResizeObserver((function(){return z()})),c=e.isInset?null===(l=S.value)||void 0===l?void 0:l.closest("#article_".concat(e.gallery.id)):k.value,A.value.observe(c),Object(o.d)({target:S.value,router:m}),!e.isInset&&e.gallery.title&&(meta.title.value=e.gallery.title),I.value="/".concat(e.gallery.url_alias,"?gallery=").concat(e.gallery.id),"image"in f.value.query&&(I.value="/".concat(e.gallery.url_alias,"?gallery=").concat(e.gallery.id,"&image=").concat(f.value.query.image),window.requestAnimationFrame((function(){M(f.value.query.image)}))),!e.isInset&&e.gallery.id;case 17:case"end":return t.stop()}}),t)})))),{css:c,currentImageIndex:O,currentImageId:j,currentPath:I,currentReferrer:x,imagesOffsets:_,imagesRef:E,isImageVertical:function(e){var t,n;return(null==e||null===(t=e.metadata)||void 0===t?void 0:t.height)>(null==e||null===(n=e.metadata)||void 0===n?void 0:n.width)},lastScrollPosition:H,parseLinksInString:o.p,rootEl:S,scrollTo:M,setCopyright:function(image){var e=image.author,t=void 0===e?null:e,n=image.source,source=void 0===n?null:n;return"string"!=typeof t&&(t=""),t&&(t=t.split(" / ").join("<span>&middot;</span>")),"string"!=typeof t&&(source=""),source&&(source=source.split(" / ").join("<span>&middot;</span>")),[t,source].filter(Boolean).join("<span>&middot;</span>")},shouldShowCaption:function(t){return e.withCaption&&(t.caption||t.author||t.text)},shouldShowThumbs:C,thumbsTop:T}},head:{}}),v=n(619),d=n(1);var component=Object(d.a)(c,(function(){var e,t=this,n=t.$createElement,l=t._self._c||n;return l("div",{ref:"rootEl",class:(e={},e[t.css.gallery]=!0,e[t.css.isInset]=t.isInset,e)},[t.shouldShowThumbs?l("div",{class:t.css.thumbs},[l("div",{ref:"thumbsEl",class:t.css.thumbsInner,style:{maxHeight:"calc(100vh - "+t.thumbsTop+"px - 16px"}},t._l(t.gallery.gallery,(function(e,n){var r;return l("button",{key:e.id||n,class:(r={},r[t.css.thumb]=!0,r[t.css.isActive]=t.currentImageIndex===n,r),attrs:{title:e.caption,type:"button"},on:{click:function(n){t.scrollTo(e.id.toString())}}},[l("BaseImage",{class:t.css.thumbImage,attrs:{alt:(n+1).toString(),image:e}})],1)})),0)]):t._e(),t._v(" "),l("div",{class:t.css.main},[t.isInset?t._e():l("header",{class:t.css.heading},[t.gallery.time?l("ArticleHeaderEntries",{class:t.css.entries,attrs:{article:t.gallery}}):t._e(),t._v(" "),t.gallery.title?l("p",{class:t.css.headingTitle},[t._v("\n        "+t._s(t.gallery.title)+"\n      ")]):t._e(),t._v(" "),t.gallery.subtitle?l("p",{class:t.css.headingSubtitle},[t._v("\n        "+t._s(t.gallery.subtitle)+"\n      ")]):t._e()],1),t._v(" "),l("div",{class:t.css.images},t._l(t.gallery.gallery,(function(e,n){var r;return l("figure",{key:e.id||n,ref:"imagesRef",refInFor:!0,class:(r={},r[t.css.figure]=!0,r[t.css.withCaption]=t.shouldShowCaption(e),r),attrs:{"data-image-key":e.id}},[l("Zoomable",{scopedSlots:t._u([{key:"default",fn:function(n){var r,o=n.isFloating;return[l("BaseImage",{class:(r={},r[t.css.image]=!0,r[t.css.isVertical]=t.isImageVertical(t.gallery.gallery[0]),r),attrs:{alt:e.alt||e.caption,"blur-full":"","custom-ratio":t.isImageVertical(e)?2/3*100:0,image:e,"should-crop":!o}})]}}],null,!0)}),t._v(" "),t.shouldShowCaption(e)?l("figcaption",{class:t.css.caption},[e.author||e.source?l("em",{class:t.css.copyright,domProps:{innerHTML:t._s(t.setCopyright(e))}}):t._e(),t._v(" "),"title"in e?[e.title?l("p",{class:t.css.title},[t._v("\n              "+t._s(e.title)+"\n            ")]):t._e(),t._v(" "),e.caption?[Array.isArray(e.caption)?l("ArticleBoxes",{class:t.css.boxes,attrs:{article:{body:e.caption},"should-disable-ad":""}}):l("div",{class:t.css.description,domProps:{innerHTML:t._s(t.parseLinksInString(e.caption))}})]:t._e()]:[e.caption?l("p",{class:t.css.title},[t._v("\n              "+t._s(e.caption)+"\n            ")]):t._e(),t._v(" "),e.text?[Array.isArray(e.text)?l("ArticleBoxes",{class:t.css.boxes,attrs:{article:{body:e.text},"should-disable-ad":""}}):l("div",{class:t.css.description,domProps:{innerHTML:t._s(t.parseLinksInString(e.text))}})]:t._e()]],2):t._e()],1)})),0)])])}),[],!1,(function(e){this.$style=v.default.locals||v.default}),null,null);t.default=component.exports;installComponents(component,{BaseImage:n(66).default,ArticleHeaderEntries:n(555).default,Zoomable:n(441).default,ArticleBoxes:n(385).default})},619:function(e,t,n){"use strict";var l=n(489),r=n.n(l);n.d(t,"default",(function(){return r.a}))}}]);